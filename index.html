<head>
    <meta name="description" content="A timing tool for Breath of the Wild Individual Level runs">
    <title> Breath of the Wild IL Timer</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="styles.css"><!--TODO: add css -->
</head>
<!--


   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ #   % &@@@@@@@@@@@@@@@@@@@@@@@.(   (.@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#(     %(@@@@@@@@@@@@@@@@@@@@@@@ /   .*(@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@/%@@@/   /@@@@@@@@@@@@@@@@@@@@@@@@@@@///&@@/ /@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@,*@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@,.&@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@,*@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@ &@@@@@@@@@@@@@@@@@@@@@@@@@@@@%(@@@@@@@@@@@@@@@@@@@@@@@@@@@@*.&@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@ %@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*  .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ (@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@(/@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@(*@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@ &@@@@@@@@@@@@@@@&  (@@@@@@@@@@@       ,@@@@@@@@@@#   .@@@@@@@@@@@@@@@@ (@@@@@@@@@@@@@
@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@&     ,@@@@@@@, ,*****  @@@@@&.      /@@@@@@@@@@@@@@@@@.(@@@@@@@@@@@@
@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@&       ,#@@@@@@@@@@@@@@@@@@@@(      #@@@@@@@@@@@@@@@@@@*/@@@@@@@@@@@
@@@@@@@@@@@.@@@@@@@@@@@@@@@@@@@&   (@@@@@@@(            *&@@@@@@@( .@@@@@@@@@@@@@@@@@@@@.(@@@@@@@@@@
@@@@@@@@@@/*@@@@@@@@@@@@@@@@@@@@(@@@@@,      /* (/(( ,/(      #@@@@@@@@@@@@@@@@@@@@@@@@@@ &@@@@@@@@@
@@@@@@@@@@ &@@@@@@@@@@@@@/ @@@@@@@(    /&@(.&@@@%(((@@@& /@&*    *@@@@@@@(,@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@(/*./@@@@@@@@@@@@  .&&(.    (@@@@.*@@          &@% &@@@(     (&&(  /@@@@@@@@@@&.*(/,(@@@@@@@
@@@@@@,(     &.@@@@@@@@@@@*      (@@@@@@@&@@    /@@%    #@@@@@@@@@@.      #@@@@@@@@@@/(.    /*/@@@@@
@@@@@@ /     / @@@@@@@@@@@@@@@@(  #@@@@@%#@@    (@@#    (@@(@@@@@&  ,@@@@@@@@@@@@@@@@/%     /*(@@@@@
@@@@@@@(.##/ (@@@@@@@@@@@@@@@@@@@/  #@@@@ &@@*         (@@ &@@@%  .@@@@@@@@@@@@@@@@@@@@/*// (@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@(   (@@/ @@@@#(/(@@@& ,@@(   (@@@@@@@@@@@@@@@@@@@@@@@@*/@@@@@@@@@
@@@@@@@@@@.&@@@@@@@@@@@@@@@@@@@@@@@@@@&*   .//  .(((. (,    /%@@@@@@@@@@@@@@@@@@@@@@@@@@@.&@@@@@@@@@
@@@@@@@@@@&.@@@@@@@@@&@@@@@@@@@@@@@@@@@@@@@@%(*,    ,((%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.(@@@@@@@@@@
@@@@@@@@@@@(*@&*.(#@@@*/@@@@@@@@@@@@@@@@@@@@@@@@/   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*(@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@    #@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#(@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@( #@@@@@@@@@@@@@@@@@@@&    /@@@@@@@@@@@@@@%///(/@@@@@@@@@@@@ (@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@&  (@@@@@@@@@@@@@@@@,     %@@@@@@@@@@@@@/    ((@@@@@@@@@.*@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@%.%@@@%* #@@@@@@@@@@@#      ,@@@@@@@@@@@&.//,,,#@@@@@@@@/ /@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@&,..&@@@@@@@@@@@@(. %@@@@@@        (@@@@@@*.(%@@@@@@@@@@@@@@& (@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@/   (%@@@@@@@@@@@@@*@@@@@@@        (@@@@@@%*@@@@@@@@@@@@@@(*(@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@/((@@@@@@@@@@@@@@*@@@@@@@&        (@@@@@@@@*@@@@@@@@@@( (@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@(.*  @@@@@@@@@@      (@@@@@@@@@(,@@@@@(..(@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%/     *&@@@@@@@@@@&%@@@@@@@@@@@@@& / *(@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ (   / @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Just Looking under the hood? @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  @@@@@@@@@@@@@@@@@@@@@@@ https://github.com/PrinceKomali/BotW-IL-Timer/ @@@@@@@@@@@@@@@@@@@@@@@@@






-->
<body>
    <input id="vidfile" type="file" /><br><br>
    <b>Current Time: <span id="test">0.000</span></b><br><br>
    <button onclick="go(1)">Frame Advance</button>
    <button onclick="go(-1)">Frame Advance -1</button>
    <button onclick="go(15)">Forward 15f</button><br>
    <button onclick="start()">Set Start</button>
    <button onclick="end()">Set End</button>
    <button onclick="total()">Get Total</button><br>
    <p>Advance <input type="text" id="tinput" size="1" /> frames <br><button onclick="customgo()">Advance Frames</button></p>
    <p> You can enter negative frames to go backwards</p>
    <br><video id="vid" controls="False" src="#" width=320 height=180></video><br>
    <b> Start Time: <span id="start">0.000</span> | End time: <span id="end">0.000</span> | Framecount: <span id="total">0.000</span></b><br>
    <button onclick="reset()">Restart Video</button><br>
    <br><br><br>
    <h4>How To Use:</h4>
    <p>1) Import your video file at the top of the page.<br>
        2) Use the Frame Advance buttons to find the first fade-in frame Link is visible after the elevator cutscene<br>
        3) Click "Set Start"<br>
        4) Use the Frame Advance buttons again to find the first frame the A button lights up when clicking the "Examine" prompt<br>
        5) Click "Set End" and then click "Get Framecount"
        <br>Your framecount should be labled under the video</p>
    <p style="font-size:10">Made by <a style="color:black" href="https://www.youtube.com/channel/UCoKZGYMKo_KTIXiWUYxVPKA"> Komali</a> on YouTube</p>
    <script>
        function setInputFilter(textbox, inputFilter) {
    ["input", "keydown", "keyup", "mousedown", "mouseup", "select", "contextmenu", "drop"].forEach(function(event) {
        textbox.addEventListener(event, function() {
            if (inputFilter(this.value)) {
                this.oldValue = this.value;
                this.oldSelectionStart = this.selectionStart;
                this.oldSelectionEnd = this.selectionEnd;
            } else if (this.hasOwnProperty("oldValue")) {
                this.value = this.oldValue;
                this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
            } else {
                this.value = "";
            }
        });
    });
}

var youtput;
var vid = document.getElementById("vid");
var x = document.getElementById("vidfile").files[0];
var y = document.getElementById("test");
window.addEventListener('load', function() {
    setInputFilter(document.getElementById("tinput"), function(value) {
        return /^-?\d*$/.test(value);
    });
    vid.removeAttribute("controls")
    document.querySelector('input[type="file"]').addEventListener('change', function() {
        vid.removeAttribute("controls")
        if (this.files && this.files[0]) {
            var img = document.querySelector('video'); // $('img')[0]
            img.src = URL.createObjectURL(this.files[0]); // set src to blob url
            img.onload = imageIsLoaded;
        }
    });
});

var time;
var st = 0;
var nd = 0;
setInterval(y.innerHTML = vid.currentTime, 1);

function reset() {
    vid.currentTime = "0.0";
    youtput = 0.000;
    y.innerHTML = youtput;
}

function go(z) {
    vid.pause();
    vid.currentTime = vid.currentTime + (z / 30)
    youtput = vid.currentTime.toFixed(3);
    y.innerHTML = youtput;
    //setInterval(
    ;
}

function customgo() {
    var value = document.getElementById("tinput")
    go(value.value)
}

function start() {
    st = vid.currentTime
    document.getElementById("start").innerHTML = vid.currentTime.toFixed(3);
}

function end() {
    nd = vid.currentTime
    document.getElementById("end").innerHTML = vid.currentTime.toFixed(3);
}

function total() {

    document.getElementById("total").innerHTML = (nd - st + (1 / 30)).toFixed(3)
}


    </script>
</body>
